# Phase 1 ë¶„ì„: launch_scale=1.5618 ìƒíƒœ

## ğŸ“Š **ì¸¡ì • ë°ì´í„° ìš”ì•½**

### **Test 1: 90Â° ë°˜ì‹œê³„**
```
ë¬¼ë¦¬ì  íšŒì „: 90Â° (ì‹¤ì œ ì¸¡ì •)
Odom (ì¸¡ì •ê°’): 35.05Â° (launch_scale=1.46 ì ìš© í›„)  âš ï¸ ë¬¸ì œ!
Odom (ì›ì‹œê°’): 24.01Â° (ê³„ì‚°ê°’: 35.05 / 1.46)
IMU (ì ë¶„): 87.49Â°
angular_scale: 3.6439 (87.49 / 24.01)
```

### **Test 2: 90Â° ì‹œê³„**
```
ë¬¼ë¦¬ì  íšŒì „: 90Â° (ì‹¤ì œ ì¸¡ì •)
Odom (ì¸¡ì •ê°’): 32.58Â° (launch_scale=1.46 ì ìš© í›„)  âš ï¸ ë¬¸ì œ!
Odom (ì›ì‹œê°’): 22.32Â° (ê³„ì‚°ê°’: 32.58 / 1.46)
IMU (ì ë¶„): 86.06Â°
angular_scale: 3.8561 (86.06 / 22.32)
```

---

## ğŸ” **ë¬¸ì œ ë°œê²¬!**

### **ğŸš¨ ì‹¬ê°í•œ ë²„ê·¸: launch_scale ê°’ ë¶ˆì¼ì¹˜**

```python
# ì‚¬ìš©ì ë³´ê³ 
"í˜„ì¬ launch íŒŒì¼ì˜ angular_scaleì€ 1.5618ì´ë‹¤."

# í•˜ì§€ë§Œ ìŠ¤í¬ë¦½íŠ¸ ì¶œë ¥
âš™ï¸  Launch íŒŒì¼ ì„¤ì •:
  í˜„ì¬ ì ìš©ëœ scale: 1.4600  # âŒ ì˜ëª»ëœ ê°’ ì‚¬ìš©!
```

### **ì›ì¸:**
```python
# odom_based_angular_calibration.py Line 29
def __init__(self, phase=2, initial_scale=1.5618, current_launch_scale=1.46):
                                                    ^^^^^^^^^^^^^^^^^^^^
                                                    âŒ í•˜ë“œì½”ë”©ëœ ê¸°ë³¸ê°’!
```

### **ê²°ê³¼:**
```python
# ì‹¤ì œ launch_scale: 1.5618
# ìŠ¤í¬ë¦½íŠ¸ê°€ ì‚¬ìš©í•œ ê°’: 1.46

# Odom ì›ì‹œê°’ ê³„ì‚° (ì˜ëª»ë¨!)
odom_raw = 35.05 / 1.46 = 24.01Â°  âŒ

# ì˜¬ë°”ë¥¸ ê³„ì‚°ì´ì—ˆë‹¤ë©´
odom_raw = 35.05 / 1.5618 = 22.44Â°  âœ…
```

---

## ğŸ§® **ì˜¬ë°”ë¥¸ ì¬ê³„ì‚°**

### **Test 1: 90Â° ë°˜ì‹œê³„ (ìˆ˜ì •)**

#### **ì¸¡ì •ê°’:**
```
ë¬¼ë¦¬ì : 90Â°
Odom (ì¸¡ì •): 35.05Â°
IMU (ì ë¶„): 87.49Â°
launch_scale: 1.5618 (ì‹¤ì œ ì ìš©ëœ ê°’)
```

#### **ì›ì‹œ Odom ë³µì›:**
```python
odom_raw = 35.05 / 1.5618 = 22.44Â°  âœ…
```

#### **angular_scale ê³„ì‚°:**
```python
angular_scale = IMU / odom_raw
angular_scale = 87.49 / 22.44 = 3.899  âœ…
```

#### **ê²€ì¦:**
```python
ì˜ˆì¸¡ = odom_raw Ã— angular_scale
ì˜ˆì¸¡ = 22.44 Ã— 3.899 = 87.49Â° â‰ˆ 90Â° âœ…
```

---

### **Test 2: 90Â° ì‹œê³„ (ìˆ˜ì •)**

#### **ì¸¡ì •ê°’:**
```
ë¬¼ë¦¬ì : 90Â°
Odom (ì¸¡ì •): 32.58Â°
IMU (ì ë¶„): 86.06Â°
launch_scale: 1.5618 (ì‹¤ì œ ì ìš©ëœ ê°’)
```

#### **ì›ì‹œ Odom ë³µì›:**
```python
odom_raw = 32.58 / 1.5618 = 20.86Â°  âœ…
```

#### **angular_scale ê³„ì‚°:**
```python
angular_scale = IMU / odom_raw
angular_scale = 86.06 / 20.86 = 4.126  âœ…
```

#### **ê²€ì¦:**
```python
ì˜ˆì¸¡ = odom_raw Ã— angular_scale
ì˜ˆì¸¡ = 20.86 Ã— 4.126 = 86.06Â° â‰ˆ 90Â° âœ…
```

---

### **í‰ê·  angular_scale:**
```python
í‰ê·  = (3.899 + 4.126) / 2 = 4.013  âœ…
í‘œì¤€í¸ì°¨ = 0.114
ë³€ë™ê³„ìˆ˜ = 2.8% (ì¼ê´€ì )
```

---

## ğŸ¯ **íšŒì „ ì¢…ë£Œ ê¸°ì¤€ ë¶„ì„**

### **Phase 1 ì¢…ë£Œ ì¡°ê±´ (Line 265):**
```python
# Phase 1: IMU ê¸°ì¤€
if imu_integrated >= abs(target_rad) * 0.95:
    self.get_logger().info('âœ… IMU ëª©í‘œ ë„ë‹¬!')
    break
```

### **Test 1 ì¢…ë£Œ ì‹œì :**
```
ëª©í‘œ: 90Â° = 1.571 rad
ì¢…ë£Œ ì¡°ê±´: 1.571 Ã— 0.95 = 1.492 rad = 85.3Â°

IMU ì ë¶„: 87.49Â°
â†’ 87.49Â° > 85.3Â° âœ… ì¢…ë£Œ!

ì‹¤ì œ ë¬¼ë¦¬ì  íšŒì „: 90Â° (Â±5Â°)
```

### **Test 2 ì¢…ë£Œ ì‹œì :**
```
ëª©í‘œ: 90Â° = 1.571 rad
ì¢…ë£Œ ì¡°ê±´: 1.571 Ã— 0.95 = 1.492 rad = 85.3Â°

IMU ì ë¶„: 86.06Â°
â†’ 86.06Â° > 85.3Â° âœ… ì¢…ë£Œ!

ì‹¤ì œ ë¬¼ë¦¬ì  íšŒì „: 90Â° (Â±5Â°)
```

### **ê²°ë¡ :**
```
âœ… Phase 1ì€ IMU ì ë¶„ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ íšŒì „
âœ… ëª©í‘œì˜ 95%ì— ë„ë‹¬ ì‹œ ì¢…ë£Œ
âœ… ë¬¼ë¦¬ì ìœ¼ë¡œë„ 90Â° Â±5Â° ë²”ìœ„ ë‚´ ì •í™•
```

---

## ğŸ“Š **í˜„ì¬ ì‹œìŠ¤í…œ ìƒíƒœ ë¶„ì„**

### **1. base_node (C++):**
```cpp
// launch_scale = 1.5618 ì ìš©
angular_velocity_z_ = msg->angular.z Ã— 1.5618

// ì¸¡ì • ì˜ˆì‹œ (Test 1)
í•˜ë“œì›¨ì–´ ì›ì‹œ: 0.3 rad/s Ã— 3ì´ˆ = 0.9 rad = 51.6Â°
â†’ ë„ˆë¬´ í¼! ì‹¤ì œ ì›ì‹œëŠ” ì•½ 22Â° ì •ë„ì˜€ì„ ê²ƒ

ì‹¤ì œ ì›ì‹œ ì¶”ì •: 22.44Â° / 1.5618 = 14.37Â°  âš ï¸
â†’ í•˜ë“œì›¨ì–´ê°€ ê·¹ë„ë¡œ ê³¼ì†Œì¸¡ì •!
```

### **2. í•˜ë“œì›¨ì–´ ê³¼ì†Œì¸¡ì • ì‹¬ê°ì„±:**
```python
# Test 1
ë¬¼ë¦¬ì : 90Â°
í•˜ë“œì›¨ì–´ ì›ì‹œ ì¶”ì •: 22.44Â°
ê³¼ì†Œì¸¡ì •: 90 / 22.44 = 4.01x  âš ï¸ (300% ê³¼ì†Œ!)

# Test 2
ë¬¼ë¦¬ì : 90Â°
í•˜ë“œì›¨ì–´ ì›ì‹œ ì¶”ì •: 20.86Â°
ê³¼ì†Œì¸¡ì •: 90 / 20.86 = 4.31x  âš ï¸ (330% ê³¼ì†Œ!)
```

### **3. IMU ì •í™•ë„:**
```python
# Test 1
IMU: 87.49Â°
ë¬¼ë¦¬ì : 90Â°
ì˜¤ì°¨: -2.51Â° (-2.8%)  âœ… ë§¤ìš° ì •í™•!

# Test 2
IMU: 86.06Â°
ë¬¼ë¦¬ì : 90Â°
ì˜¤ì°¨: -3.94Â° (-4.4%)  âœ… ì •í™•!
```

---

## ğŸ”§ **ë¬¸ì œ í•´ê²° ë°©ì•ˆ**

### **ë¬¸ì œ 1: launch_scale í•˜ë“œì½”ë”©**

#### **í˜„ì¬ ì½”ë“œ (odom_based_angular_calibration.py Line 29):**
```python
def __init__(self, phase=2, initial_scale=1.5618, current_launch_scale=1.46):
                                                    ^^^^^^^^^^^^^^^^^^^^
                                                    âŒ ì˜ëª»ëœ ê¸°ë³¸ê°’
```

#### **ìˆ˜ì • í•„ìš”:**
```python
def __init__(self, phase=2, initial_scale=1.5618, current_launch_scale=1.5618):
                                                    ^^^^^^^^^^^^^^^^^^^^^^
                                                    âœ… ì‹¤ì œ launch ê°’
```

#### **ë˜ëŠ” argparse ê¸°ë³¸ê°’ ìˆ˜ì • (Line 598):**
```python
parser.add_argument('--launch-scale', type=float, default=1.5618,  # 1.46 â†’ 1.5618
                    help='Launch íŒŒì¼ì— ì´ë¯¸ ì ìš©ëœ angular_scale')
```

---

### **ë¬¸ì œ 2: ì¬ì¸¡ì • í•„ìš”**

#### **ì´ìœ :**
1. ì˜ëª»ëœ `launch_scale=1.46`ìœ¼ë¡œ ê³„ì‚°ë¨
2. ì›ì‹œ Odomì´ ì˜ëª» ë³µì›ë¨ (24.01Â° vs 22.44Â°)
3. `angular_scale`ì´ ë¶€ì •í™•í•¨ (3.64 vs 3.90)

#### **í•´ê²°:**
```bash
# ì˜¬ë°”ë¥¸ launch_scaleë¡œ ì¬ì‹¤í–‰
python3 odom_based_angular_calibration.py --phase 1 --launch-scale 1.5618
```

---

## ğŸ“ **ì˜¬ë°”ë¥¸ ê²°ê³¼ ì˜ˆì¸¡**

### **ì¬ì‹¤í–‰ ì‹œ ì˜ˆìƒ ì¶œë ¥:**

```
Test 1: 90Â° ë°˜ì‹œê³„
  Odom (ì¸¡ì •ê°’):        35.05Â° (scale=1.5618 ì ìš© í›„)
  Odom (ì›ì‹œê°’):        22.44Â° (scale ì ìš© ì „) â­
  angular_scale:      3.899 (IMU 87.49Â° / Odom 22.44Â°) â­

Test 2: 90Â° ì‹œê³„
  Odom (ì¸¡ì •ê°’):        32.58Â° (scale=1.5618 ì ìš© í›„)
  Odom (ì›ì‹œê°’):        20.86Â° (scale ì ìš© ì „) â­
  angular_scale:      4.126 (IMU 86.06Â° / Odom 20.86Â°) â­

Phase 1 ì™„ë£Œ!
ì´ˆê¸° angular_scale: 4.013 Â± 0.114
```

---

## ğŸ¯ **ìµœì¢… ê¶Œì¥ì‚¬í•­**

### **1. ì¦‰ì‹œ ìˆ˜ì •:**
```bash
# argparse ê¸°ë³¸ê°’ ìˆ˜ì •
nano odom_based_angular_calibration.py
# Line 598: default=1.46 â†’ default=1.5618
```

### **2. ì¬ì‹¤í–‰:**
```bash
python3 odom_based_angular_calibration.py --phase 1 --launch-scale 1.5618
```

### **3. Phase 2 ì‹¤í–‰:**
```bash
# Phase 1 ê²°ê³¼ ì‚¬ìš© (ì˜ˆ: 4.013)
python3 odom_based_angular_calibration.py --phase 2 --scale 4.013 --launch-scale 1.5618
```

### **4. ìƒˆ angular_scale ì ìš©:**
```python
# transbot_full_system.launch.py
'angular_scale': 4.013,  # 1.5618 â†’ 4.013
```

---

## ğŸ“Š **í•µì‹¬ ë°œê²¬ ìš”ì•½**

| í•­ëª© | í˜„ì¬ (ì˜ëª»ë¨) | ì˜¬ë°”ë¥¸ ê°’ |
|------|--------------|----------|
| launch_scale ì‚¬ìš© | 1.46 âŒ | 1.5618 âœ… |
| Odom ì›ì‹œ (Test 1) | 24.01Â° | 22.44Â° |
| Odom ì›ì‹œ (Test 2) | 22.32Â° | 20.86Â° |
| angular_scale (Test 1) | 3.644 | 3.899 |
| angular_scale (Test 2) | 3.856 | 4.126 |
| **í‰ê·  angular_scale** | **3.750** | **4.013** âœ… |

### **í•˜ë“œì›¨ì–´ ìƒíƒœ:**
- **ì˜¤ë„ë©”íŠ¸ë¦¬**: ê·¹ì‹¬í•œ ê³¼ì†Œì¸¡ì • (75-77% ë¶€ì¡±)
- **IMU**: ë§¤ìš° ì •í™• (ì˜¤ì°¨ 2-4%)
- **íšŒì „ ê¸°ì¤€**: IMU ì ë¶„ê°’ (Phase 1)
- **ë¬¼ë¦¬ì  ì •í™•ë„**: 90Â° Â±5Â° âœ…

### **ê¸´ê¸‰ ì¡°ì¹˜ í•„ìš”:**
```bash
# 1. ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •
sed -i 's/default=1.46/default=1.5618/g' odom_based_angular_calibration.py

# 2. ì¬ì‹¤í–‰
python3 odom_based_angular_calibration.py --phase 1 --launch-scale 1.5618

# 3. Phase 2
python3 odom_based_angular_calibration.py --phase 2 --scale <result> --launch-scale 1.5618
```

**í˜„ì¬ ì¸¡ì •ì€ ìœ íš¨í•˜ì§€ë§Œ, launch_scale ë¶ˆì¼ì¹˜ë¡œ ì¸í•´ angular_scale ê³„ì‚°ì´ ë¶€ì •í™•í•©ë‹ˆë‹¤!**
